{% extends 'base.html' %}

{% block title %}Reservas - Parking App{% endblock %}

{% block content %}
    <!-- Begin Page Content -->
    <div class="container-fluid">

    
        <h1>Lista de Reservas</h1>

        <!-- Form to filter reservations by date -->
        <form action="/lista_reservas" method="get">
            <label for="start_date">Tiempo Inicial:</label>
            <input type="date" id="start_date" name="start_date">
            <label for="end_date">Tiempo Final:</label>
            <input type="date" id="end_date" name="end_date">
            <button type="submit" class='btn-primary'>Filtrar</button>
        </form>
    
        <!-- Table to display reservations -->
        <div class="table-responsive">

        <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>ID Usuario</th>
                    <th>Tiempo Inicio</th>
                    <th>Tiempo Fin</th>
                    <th>Estado</th>
                </tr>
            </thead>
            <tbody>
                <!-- Loop through the reservations data -->
                {% for reservation in reservations_data %}
                    <tr>
                        <td>{{ reservation.id }}</td>
                        <td>{{ reservation.user_id }}</td>
                        <td>{{ reservation.start_time }}</td>
                        <td>{{ reservation.end_time }}</td>
                        <td>{{ 'activo' if reservation.is_active else 'inactivo' }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    
    </div>
        <!-- Pagination links -->
        <div class="pagination">
            <ul>
                {% if pagination.has_prev %}
                    <li><a href="?page={{ pagination.prev_num }}">Previous</a></li>
                {% endif %}
                {% for page_num in range(1, pagination.pages|int + 1) %}
                    <li {% if page_num == pagination.page %}class="active"{% endif %}>
                        <a href="?page={{ page_num }}">{{ page_num }}</a>
                    </li>
                {% endfor %}
                {% if pagination.has_next %}
                    <li><a href="?page={{ pagination.next_num }}">Next</a></li>
                {% endif %}
            </ul>
    </div>
    
        <!-- Add any necessary JavaScript scripts or links here -->
    </div>
{% endblock %}



















